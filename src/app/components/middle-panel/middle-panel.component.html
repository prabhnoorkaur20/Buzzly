<div class="middle-panel">
  <h2>üìù Latest Posts</h2>

  <!-- Combined posts display with pagination -->
  <div *ngFor="let post of getCurrentPosts()" class="post-card">
    <h4 *ngIf="post.title">{{ post.title }}</h4>
    <p>By {{ post.username }}</p>
    <p *ngIf="post.text">{{ post.text }}</p>
    <img *ngIf="post.fileType === 'image' && post.fileData" [src]="post.fileData" alt="Post Image" />
    <video *ngIf="post.fileType === 'video' && post.fileData" [src]="post.fileData" controls></video>
    
    <!-- Handle API post content -->
    <img *ngIf="post.imageUrl" [src]="post.imageUrl" alt="Post Image" />
    <video *ngIf="post.videoUrl" controls>
      <source [src]="post.videoUrl" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    <p *ngIf="post.body">{{ post.body }}</p>
    
    <button (click)="toggleLike(post)" [ngClass]="{ liked: post.liked }">
      ‚ù§Ô∏è {{ post.likes }}
    </button>
  </div>

  <div class="pagination">
    <button (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1">Previous</button>
    <span>Page {{ currentPage }} of {{ getTotalPages() }}</span>
    <button (click)="goToPage(currentPage + 1)" [disabled]="currentPage === getTotalPages()">Next</button>
  </div>
</div>